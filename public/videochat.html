<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/assets/logo.png" type="image/png" />
    <title>Video Chat - MeetEase</title>
    <link rel="stylesheet" href="./css/call.css">
    <script src="https://kit.fontawesome.com/bd303dea31.js" crossorigin="anonymous"></script>
    <script src='/socket.io/socket.io.js'></script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 90vh;
        }
    </style>
    <script>
        let myName;
    </script>
</head>

<body>
    <div id="topcover">
        <div id="toppest">
            <h3><i class="fa-solid fa-globe"></i> English <i class="fa-solid fa-chevron-down"></i></h3>
        </div>
    </div>
    <nav>
        <div>
            <img src="./images/MeetEase.png" alt="error-404">
        </div>
        <div id="top_nav">
            <div><a href=""></a>Products</div>
            <div><a href=""></a>Solutions <i class="fa-solid fa-angle-down"></i></div>
            <div><a href=""></a>Teams & Companies</div>
            <div><a href=""></a>Pricing</div>
            <div><a href=""></a>Resources <i class="fa-solid fa-angle-down"></i></div>
        </div>
        <div id="acc_btn">
            <button id="my_ac_btn">End</button>
        </div>
    </nav>
    <div id="callfor">
        <img src="./images/MeetEase.png" alt="error-404">
        <h1>CoNNect</h1>
    </div>
    <div>
        <div>
            <!-- to input username and login -->
            <!-- <div id="userName">
                <div style="display: flex; flex-direction: column; align-items: center; width: 300px;">
                    <input placeholder="Enter your name?" style="text-align:center; height: 50px; font-size: xx-large;"
                        type="text" name="" id="userNameInput">
                    <div style="height: 5px;"></div>
                    <button onclick="login()" class="actionButton">Login</button>
                </div>
            </div> -->
            <!-- to display current login user information  -->
            <div id="userInfo">
                <div style="display: flex; flex-direction: column; align-items: center; width: auto;">
                    <h1 style="margin-left: 50px;">Hello <span id="nameHere"></span> you are ready for video meeting</h1>
                    <h1 style="margin-left: 50px;">or</h1>
                </div>
            </div>
            <!-- to make a call with name -->
            <div id="call">
                <div class="dialWrapper">
                    <input placeholder="Whom do you want to call?"
                        style="text-align:center; height: 50px; font-size: xx-large;" type="text" name="callName"
                        id="callName">
                    <div class="dialNumpadHWrapper">
                        <div class="dialNumber">
                        </div>
                        <div class="dialNumber">
                            <button class="dialActionButton" onclick="call()">Call</button>
                        </div>
                        <div class="dialNumber">
                        </div>
                    </div>
                </div>
            </div>
            <!-- to show incommming call and accept -->
            <div id="answer">
                <div class="incomingWrapper">
                    <div class="itemWrapper">
                        <h2 id="incoming"><i class="fa-solid fa-video fa-fade"></i> Incoming Video Call</h2>
                    </div>
                    <div class="itemWrapper">
                        <img id="profileImageA" style="padding: 30px; width: 140px; height: 140px;"
                            src="data:image/png;base64,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" alt="">
                    </div>
                    <div class="itemWrapper">
                        <h2 style="line-height: 0px;"><span id="callerName"></span></h2>
                    </div>
                    <div class="itemWrapper" style="display: flex; flex-direction: row; margin-bottom: 20px;">
                        <button class="actionButton" onclick="answer()"><i
                                class="fa-solid fa-phone fa-bounce"></i></button>
                        <button class="actionButton" onclick="reject()"><i
                                class="fa-sharp fa-solid fa-phone-slash fa-shake"></i></button>
                    </div>
                </div>
            </div>
            <!-- to show outgoing call -->
            <div id="calling">
                <div class="incomingWrapper">
                    <div class="itemWrapper">
                        <h2 id="callings">Calling</h2>
                    </div>
                    <!-- <div id="call-duration"></div> -->
                    <div class="itemWrapper">
                        <img id="profileImageCA" style="padding: 30px; width: 140px; height: 140px;"
                            src="data:image/png;base64,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" alt="">
                    </div>
                    <span id="timer">00:00</span>
                    <div class="itemWrapper">
                        <h3 style="line-height: 0px;"><span id="otherUserNameCA"></span></h3>
                    </div>
                </div>
            </div>
            <!-- to show call in progress call -->
            <div id="inCall">
                <div class="incomingWrapper">
                    <div class="itemWrapper">
                        <h3 id="oncall">On Call With <span id="otherUserNameC"> </span></h3>
                        <span id="timer">00:00</span>
                    </div>
                </div>
            </div>
            <br>
            <!-- to show local and remote video -->
            <div id="videos">
                <div style="position:absolute; top:0; right:0; padding-right: 20px; padding-top: 20px">
                    <video width="100px" id="localVideo" autoplay muted playsinline></video>
                </div>
                <div id="remoteVideoDiv">
                    <video style="width: 700px;" id="remoteVideo" autoplay playsinline></video>
                </div>
            </div>
            <div style="flex-grow: 1;">
            </div>
        </div>
    </div>
    <div style="flex-grow: 1;">
    </div>
    <div id="bye">
        <div id="eng">
            <h3><i class="fa-solid fa-globe"></i> English <i class="fa-solid fa-chevron-down"></i></h3>
        </div>
        <div>
            <p>Copyright MeetEase 2023 / Privacy / Terms and Conditions / Status /Security</p>
        </div>
        <div id="social">
            <i class="fa-brands fa-twitter"></i>
            <i class="fa-brands fa-facebook"></i>
            <i class="fa-brands fa-instagram"></i>
            <i class="fa-brands fa-linkedin"></i>
            <i class="fa-brands fa-youtube"></i>
        </div>
    </div>
    <script src="./scripts/call.js"></script>
    <script>
        document.getElementById("answer").style.display = "none";
        document.getElementById("inCall").style.display = "none";
        document.getElementById("calling").style.display = "none";
        document.getElementById("videos").style.display = "none";
    </script>
    <script>
        let params = new URL(document.location).searchParams;
        myName = params.get("name");
        let opponame = params.get("opponame")
        let oppoid = params.get("oppoid")
        let myUserId = params.get("user_id");
        document.getElementById("nameHere").innerHTML = myName || "Kuldeep"; 
        if(myName && myUserId){
            connectSocket();
        }

        if(opponame){
            document.getElementById("callName").value = opponame;
        }
    </script>
</body>

</html>